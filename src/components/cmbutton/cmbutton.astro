---
export interface Props {
    url: string;
}

const { url } = Astro.props;
---

<style>
    @property --border-length {
        syntax: "<length>";
        inherits: false;
        initial-value: 32px;
    }

    @property --border-width {
        syntax: "<length>";
        inherits: false;
        initial-value: 4px;
    }

    @property --border-color {
        syntax: "<color>";
        inherits: false;
        initial-value: var(--accent-primary-06);
    }

    .cm-button {
        --border-length: 32px;
        --border-width: 4px;
        --border-color: var(--accent-primary-06);


        background:
            linear-gradient(
                    var(--border-color) var(--border-length),
                    transparent 0 calc(100% - var(--border-length)),
                    var(--border-color) 0
                )
                0 0 / var(--border-width) 100%,
            linear-gradient(
                    var(--border-color) var(--border-length),
                    transparent 0 calc(100% - var(--border-length)),
                    var(--border-color) 0
                )
                100% 0 / var(--border-width) 100%,
            linear-gradient(
                    to right,
                    var(--border-color) var(--border-length),
                    transparent 0 calc(100% - var(--border-length)),
                    var(--border-color) 0
                )
                0 0 / 100% var(--border-width),
            linear-gradient(
                    to right,
                    var(--border-color) var(--border-length),
                    transparent 0 calc(100% - var(--border-length)),
                    var(--border-color) 0
                )
                0 100% / 100% var(--border-width);
        background-repeat: no-repeat;
        transition:
            --border-length 0.3s ease-in-out,
            --border-width 0.3s ease-in-out,
            --border-color 0.3s linear;
    }
    
    .cm-button:hover {
        --border-length: 48px;
        --border-width: 6px;
        --border-color: var(--accent-primary-04);
    }

    a {
        text-decoration: none;
        color: inherit;
    }

    button {
        border: none;
        background: none;
        width: 100%;
        height: 100%;
    }
</style>

<a href={url} class="cm-button">
    <button>
        <slot />
    </button>
</a>